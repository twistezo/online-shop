(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{58:function(e,t,a){e.exports=a(99)},95:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),c=a.n(i),o=a(4),l=a(6),s=a(10),u=a(9),m=a(11),d=function e(){Object(o.a)(this,e)};d.randomBetween=function(e,t){return Math.random()*(t-e)+e},d.roundToTwoDecimalPlaces=function(e){return Math.round(100*e)/100},d.randomArrayItem=function(e){return e[Math.floor(Math.random()*e.length)]},d.arrayFromArrayRandomItems=function(e){return Array.from(e).filter(function(){return d.randomBoolean()})},d.randomBoolean=function(){return Math.random()>=.5},d.arrayContainsAllElementsFromAnother=function(e,t){return t.map(function(t){return e.some(function(e){return e===t})}).every(function(e){return e})},d.getItemById=function(e,t){return e.find(function(e){return e.id===t})},d.rebuildItemsFromJson=function(e){return e.map(function(e){return new C(e._id,e._name,e._price,e._descriptionShort,e._descriptionLong,e._categoryName,e._featuresNames,e._reviews.map(function(e){return new O(e._name,e._date,e._text)}),e._imagesSources,e._quantityOnStock)})},d.rebuildCartItemsFromJson=function(e){return e.map(function(e){var t=new k(e._itemId,e._price);return t.setQuantity(e._quantity),t.deliveryCost=e._deliveryCost,t})},d.saveToLocalStorage=function(e,t){localStorage.setItem(e,JSON.stringify(t))},d.loadFromLocalStorage=function(e,t){return null!==localStorage.getItem(e)?void 0===t?JSON.parse(localStorage.getItem(e)):t(JSON.parse(localStorage.getItem(e))):null};var h=d,p=a(51),f=a.n(p),v=a(52),y=a.n(v),g=function(){function e(){Object(o.a)(this,e),this.checkNullEmptyOrUndefinded=function(e){return null!==e&&e!==[]&&void 0!==e},this._data=[],this._categories=[new E("Category 0",[new b("C0 feature 0"),new b("C0 feature 1"),new b("C0 feature 2")]),new E("Category 1",[new b("C1 feature 0"),new b("C1 feature 1"),new b("C1 feature 2"),new b("C1 feature 3")]),new E("Category 2",[new b("C2 feature 0"),new b("C2 feature 1"),new b("C2 feature 2"),new b("C2 feature 3"),new b("C2 feature 4")])],this._paymentMethods=["PayPal","PayU","Credit Card"],this._deliveryOptions=[{name:"UPS",price:14.99},{name:"DHL",price:16.99},{name:"DPD",price:18.99}]}return Object(l.a)(e,[{key:"generate",value:function(e){for(var t=new f.a,a=0;a<e;a++){var n=h.randomArrayItem(this._categories);this._data.push(new C(y()(),t.capitalize(t.word({syllables:2,lenth:6}))+" #"+a,h.roundToTwoDecimalPlaces(h.randomBetween(1,1e3)),t.sentence({words:10}),t.paragraph(),n.name,h.arrayFromArrayRandomItems(n.features.map(function(e){return e.name})),this.generateRandomReviews(t,Math.floor(h.randomBetween(2,6))),this.generateRandomImages(t,Math.floor(h.randomBetween(2,6))),Math.floor(h.randomBetween(1,11))))}return this.checkNullEmptyOrUndefinded(this._data)&&this.checkNullEmptyOrUndefinded(this._categories)&&this.checkNullEmptyOrUndefinded(this._paymentMethods)&&this.checkNullEmptyOrUndefinded(this._deliveryOptions)?{items:this._data,categories:this._categories,paymentMethods:this._paymentMethods,deliveryOptions:this._deliveryOptions}:new Error("Generated data is broken. Some field is null or undefinded.")}},{key:"generateRandomImages",value:function(e,t){for(var a=[],n=0;n<t;n++)a.push("https://avatars.dicebear.com/v2/identicon/"+e.word({length:15})+".svg");return a}},{key:"generateRandomReviews",value:function(e,t){for(var a=[],n=0;n<t;n++)a.push(new O(e.name(),e.date({string:!1,american:!1,year:2018}),e.sentence()));return a}},{key:"paymentMethods",set:function(e){this._paymentMethods=e}},{key:"deliveryOptions",set:function(e){this._deliveryOptions=e}}]),e}(),C=function(){function e(t,a,n,r,i,c,l,s,u,m){Object(o.a)(this,e),this._id=t,this._name=a,this._price=n,this._descriptionShort=r,this._descriptionLong=i,this._categoryName=c,this._featuresNames=l,this._reviews=s,this._imagesSources=u,this._quantityOnStock=m}return Object(l.a)(e,[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"price",get:function(){return this._price}},{key:"descriptionShort",get:function(){return this._descriptionShort}},{key:"descriptionLong",get:function(){return this._descriptionLong}},{key:"categoryName",get:function(){return this._categoryName}},{key:"featuresNames",get:function(){return this._featuresNames}},{key:"reviews",get:function(){return this._reviews}},{key:"imagesSources",get:function(){return this._imagesSources}},{key:"quantityOnStock",get:function(){return this._quantityOnStock},set:function(e){this._quantityOnStock=e}}]),e}(),E=function(){function e(t,a){Object(o.a)(this,e),this._name=t,this._features=a}return Object(l.a)(e,[{key:"name",get:function(){return this._name}},{key:"features",get:function(){return this._features}}]),e}(),b=function(){function e(t){Object(o.a)(this,e),this._name=t,this._state=!1}return Object(l.a)(e,[{key:"switchState",value:function(){this._state=!this._state}},{key:"name",get:function(){return this._name}},{key:"state",get:function(){return this._state},set:function(e){this._state=e}}]),e}(),O=function(){function e(t,a,n){Object(o.a)(this,e),this._name=t,this._date=a,this._text=n}return Object(l.a)(e,[{key:"name",get:function(){return this._name}},{key:"date",get:function(){return this._date}},{key:"text",get:function(){return this._text}}]),e}(),k=function(){function e(t,a){Object(o.a)(this,e),this._itemId=t,this._quantity=0,this._price=a,this._deliveryCost=0,this._totalPrice=0}return Object(l.a)(e,[{key:"setQuantity",value:function(e){this._quantity=e,this._totalPrice=h.roundToTwoDecimalPlaces(this._quantity*this._price)}},{key:"itemId",get:function(){return this._itemId}},{key:"quantity",get:function(){return this._quantity}},{key:"price",get:function(){return this._price}},{key:"deliveryCost",get:function(){return this._deliveryCost},set:function(e){this._deliveryCost=e}},{key:"totalPrice",get:function(){return this._totalPrice}}]),e}(),D=a(33),I=a(17),w=a(109),S=a(111),j=a(112),N=a(101),x=a(70),F=a(100),_=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"filterByCategoryAndFeature",value:function(e,t,a){return a.every(function(e){return!1===e.state})?Object.values(e.filter(function(e){return e.categoryName===t})):e.filter(function(e){return h.arrayContainsAllElementsFromAnother(e.featuresNames,a.filter(function(e){return!0===e.state}).map(function(e){return e.name}))&&e.categoryName===t})}},{key:"filterBySearchValue",value:function(e,t){var a=t.toLowerCase();return e.filter(function(e){return e.name.toLowerCase().includes(a)||e.descriptionShort.toLowerCase().includes(a)||e.descriptionLong.toLowerCase().includes(a)||e.price.toString().includes(a)})}}]),e}();_.filterByAllOptions=function(e,t,a,n){return _.filterByCategoryAndFeature(_.filterBySearchValue(e,t),a,n)};var P=_,A=a(108),T=a(107),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.onItemClick(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleActive",value:function(e,t){if(this.props.activeCategory===e||null===this.props.activeCategory&&0===t)return"active"}},{key:"render",value:function(){var e=this;return this.props.categoriesNames.map(function(t,a){return r.a.createElement(A.a.Item,{action:!0,onClick:function(){e.handleClick(t)},className:e.handleActive(t,a),key:t},t)})}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.onItemClick(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.props.features.map(function(t){return r.a.createElement(T.a.Check,{type:"checkbox",label:t.name,key:t.name,onChange:function(){e.handleClick(t.name)}})})}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClickOnCategory=function(e){var t=a.getFeaturesFromCategory(e);a.state.activeCategory!==e&&a.resetFeatures(t),a.setState(function(){return{activeCategory:e,activeFeatures:t}}),a.props.onSidebarChange(e,t)},a.handleClickOnFeature=function(e){var t=Object(D.a)(a.state.activeFeatures);t.find(function(t){return t.name===e}).switchState(),a.setState(function(){return{activeFeatures:t}}),a.props.onSidebarChange(a.state.activeCategory,t)},a.state={activeCategory:"",activeFeatures:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.setState({activeCategory:"Category 0",activeFeatures:this.getFeaturesFromCategory("Category 0")})}},{key:"getFeaturesFromCategory",value:function(e){return this.props.categories.find(function(t){return t.name===e}).features}},{key:"resetFeatures",value:function(e){e.forEach(function(e){e.state=!1})}},{key:"render",value:function(){return r.a.createElement(F.a,null,r.a.createElement(A.a,{className:"pb-3",variant:"flush"},r.a.createElement(R,{categoriesNames:this.props.categories.map(function(e){return e.name}),activeCategory:this.props.activeCategory,onItemClick:this.handleClickOnCategory})),r.a.createElement(T.a,{className:"pl-3"},r.a.createElement(T.a.Group,null,r.a.createElement(M,{features:this.getFeaturesFromCategory(this.props.activeCategory),onItemClick:this.handleClickOnFeature}))))}}]),t}(n.Component),L=a(113),B=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"handlePage",value:function(t,a){return t.activePage=a,t.firstItemNumOnActivePage=e.getFirstItemNumOnActivePage(t),t}}]),e}();B.getPagesLen=function(e,t){return Math.ceil(e/(t.rows*t.columns))-1},B.getFirstItemNumOnActivePage=function(e){var t=e.rows*e.columns,a=e.activePage;e.firstItemNumOnActivePage;return 0===a?0:t*a};var q=B,Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handlePage=function(e,t){var a=e.cardsData,n=a.activePage;switch(t){case"first":e.onItemClick(q.handlePage(a,0));break;case"last":e.onItemClick(q.handlePage(a,q.getPagesLen(e.itemsLength,a)));break;case"prev":e.onItemClick(q.handlePage(a,n-1));break;case"next":e.onItemClick(q.handlePage(a,n+1))}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=0===t.cardsData.activePage,n=t.cardsData.activePage===q.getPagesLen(t.itemsLength,t.cardsData);return r.a.createElement("div",null,r.a.createElement(L.a,{className:"pt-2 float-right"},r.a.createElement(L.a.First,{disabled:a,onClick:function(){return e.handlePage(t,"first")}}),r.a.createElement(L.a.Prev,{disabled:a,onClick:function(){return e.handlePage(t,"prev")}}),r.a.createElement(L.a.Item,{active:!0},t.cardsData.activePage+1),r.a.createElement(L.a.Ellipsis,{disabled:!0}),r.a.createElement(L.a.Item,{onClick:function(){return e.handlePage(t,"last")}},q.getPagesLen(t.itemsLength,t.cardsData)+1),r.a.createElement(L.a.Next,{disabled:n,onClick:function(){return e.handlePage(t,"next")}})))}}]),t}(n.Component),U=a(104),G=a(110),J=a(103),W=a(102),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleAddToCart=function(){a.props.onAddToCartClick(a.state.item.id)},a.state={item:a.props.item},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=0===this.state.item.quantityOnStock;return r.a.createElement(G.a,null,r.a.createElement(G.a.Img,{className:"mx-auto d-block viewerCardImage",variant:"top",src:this.state.item.imagesSources[0]}),r.a.createElement(G.a.Body,{className:"d-flex flex-column"},r.a.createElement(G.a.Title,null,this.state.item.name),r.a.createElement(G.a.Text,null,this.state.item.descriptionShort),r.a.createElement("div",{className:"mt-auto"},r.a.createElement(N.a,null,r.a.createElement(x.a,null,r.a.createElement(W.a,{to:"/online-shop/item-details/item-id-"+this.state.item.id},r.a.createElement(J.a,{className:"float-left",variant:"primary",onClick:this.handleDetailsClick},r.a.createElement("i",{className:"fas fa-info"})," \xa0 Details"))),r.a.createElement(x.a,null,r.a.createElement(J.a,{className:"float-right",variant:"primary",disabled:e,onClick:this.handleAddToCart},r.a.createElement("i",{className:"fas fa-cart-arrow-down"})))),r.a.createElement(N.a,{className:"pt-3 text-center"},r.a.createElement(x.a,null,e?"Out of stock":this.state.item.price+" EUR")))))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleAddToCart=function(e){a.props.onAddToCartClick(e)},a.CardGroups=function(){for(var e=a.props.cardsData.rows,t=a.props.cardsData.firstItemNumOnActivePage,n=[],i=0;i<e;i++)for(var c=[],o=0;o<a.props.cardsData.columns;o++){var l=a.props.items[t];void 0!==l&&(c.push(r.a.createElement(Y,{item:l,key:l.id,onAddToCartClick:a.handleAddToCart})),t+=1),o%e===0&&n.push(r.a.createElement(U.a,{className:"pb-2",key:i},c))}return n},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(this.CardGroups,null)}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleActivepage=function(e){a.setState(function(){return{cardsData:e}})},a.handleAddToCart=function(e){a.props.onAddToCartClick(e)},a.state={cardsData:{rows:t.viewerRows,columns:t.viewerColumns,activePage:0,firstItemNumOnActivePage:0}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,null,r.a.createElement(H,{items:this.props.filteredItems,cardsData:this.state.cardsData,onAddToCartClick:this.handleAddToCart}),r.a.createElement(Q,{itemsLength:this.props.filteredItems.length,cardsData:this.state.cardsData,onItemClick:this.handleActivepage}))}}]),t}(n.Component);$.viewerRows=2,$.viewerColumns=2;var z=$,K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onThumbnailClick=function(e){a.setState(function(){return{activeImageNum:e}})},a.Thumbnails=function(e){var t=[];return e.sources.forEach(function(e,n){t.push(r.a.createElement(x.a,{key:n},r.a.createElement(J.a,{variant:"light",onClick:function(){return a.onThumbnailClick(n)}},r.a.createElement("img",{alt:"",style:{height:"20px"},src:e}))))}),t},a.state={activeImageNum:0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,null,r.a.createElement(N.a,null,r.a.createElement("img",{className:"itemDetailsImage",alt:"",src:this.props.imagesSources[this.state.activeImageNum]})),r.a.createElement(N.a,{className:"pt-4 align-items-center"},r.a.createElement(this.Thumbnails,{sources:this.props.imagesSources})))}}]),t}(n.Component),X=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.initialItems.find(function(t){return t.id===e.props.item.id}),a=[];return t.reviews.forEach(function(e,t){a.push(r.a.createElement("div",{key:t},r.a.createElement(F.a,{className:"pt-3"},r.a.createElement(N.a,null,e.name," -"," ",e.date.toLocaleString("pl-PL",{day:"numeric",month:"numeric",year:"numeric"})),r.a.createElement(N.a,null,e.text))))}),a}}]),t}(n.Component),Z=a(24),ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleAddReviewClick=function(){a.props.onAddReview(a.state.formData.name,a.state.formData.review),a.resetFormState()},a.handleFormInputChange=function(e){var t=e.target.name,n=e.target.value,r=!0===e.target.checkValidity(),i=Object(I.a)({},a.state.formValidation);i[t]=r,a.setState(function(){return{formData:Object(I.a)({},a.state.formData,Object(Z.a)({},t,n)),formValidation:i,isFormValid:Object.values(i).every(function(e){return!0===e}),isFieldValidated:!0}})},a.state={formData:{name:"",review:""},formValidation:{name:!1,review:!1},isFormValid:!1,isFieldValidated:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"resetFormState",value:function(){this.setState(function(){return{formData:{name:"",review:""},formValidation:{name:!1,review:!1},isFormValid:!1,isFieldValidated:!1}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x.a,{sm:6,className:"pt-4 pl-0"},r.a.createElement("h4",null,"Add your review"),r.a.createElement(T.a,{className:"pt-3",validated:this.state.isFieldValidated},r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Control,{name:"name",value:this.state.formData.name,type:"text",placeholder:"Your name",required:!0,minLength:"5",onChange:this.handleFormInputChange}),r.a.createElement(T.a.Control.Feedback,{type:"invalid"},"This field is required. Min. characters is 5.")),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Control,{name:"review",value:this.state.formData.review,as:"textarea",placeholder:"Your review",rows:"3",minLength:"10",maxLength:"250",required:!0,onChange:this.handleFormInputChange}),r.a.createElement(T.a.Control.Feedback,{type:"invalid"},"This field is required. Min. characters: 10, max. 250.")),r.a.createElement(T.a.Group,null,r.a.createElement(J.a,{disabled:!this.state.isFormValid,onClick:this.handleAddReviewClick},"Submit")))))}}]),t}(n.Component),te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleAddToCart=function(){a.props.onAddToCartClick(a.props.routeParamId)},a.handleAddReview=function(e,t){a.props.onAddReview(new O(e,new Date,t),a.props.routeParamId)},a.ItemNotExists=function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"pb-2"},r.a.createElement("h1",null,"Error"),r.a.createElement("h3",null,"Item with given id '",a.props.routeParamId,"' does not exists.")))},a.Container=function(e){return r.a.createElement(F.a,null,r.a.createElement(N.a,null,r.a.createElement(x.a,{className:"pb-3",sm:6},r.a.createElement(K,{imagesSources:e.item.imagesSources})),r.a.createElement(x.a,{sm:6},r.a.createElement(F.a,null,r.a.createElement(N.a,null,r.a.createElement("h3",null,e.item.name)),r.a.createElement(N.a,null,r.a.createElement("p",null,"Id: ",e.item.id)),r.a.createElement(N.a,{className:"text-justify"},r.a.createElement("p",null,e.item.descriptionLong)),r.a.createElement(N.a,null,r.a.createElement(x.a,{className:"align-self-center pl-0"},r.a.createElement("span",{className:"float-left"},"On stock: ",e.item.quantityOnStock)),r.a.createElement(x.a,{className:"pr-0"},r.a.createElement(J.a,{className:"float-right",disabled:0===e.item.quantityOnStock,onClick:a.handleAddToCart},"Add \xa0 ",r.a.createElement("i",{className:"fas fa-cart-arrow-down"}))))))),r.a.createElement(N.a,{className:"pt-3"},r.a.createElement(F.a,{className:"pl-15"},r.a.createElement("h4",null,"Reviews"),r.a.createElement(X,{item:e.item,initialItems:e.initialItems}),r.a.createElement(ee,{onAddReview:a.handleAddReview}))))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.routeParamId,t=this.props.initialItems;return r.a.createElement("div",null,h.getItemById(t,e)?r.a.createElement(this.Container,{item:h.getItemById(t,e),initialItems:t}):r.a.createElement(this.ItemNotExists,null))}}]),t}(n.Component),ae=a(105),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSearchChange=function(e){var t=e.target.value;a.setState(function(){return{searchValue:t}}),""===t?a.props.onResetReceivedandFilteredData():(a.props.onSearchChange(t),e.persist(),e.preventDefault())},a.state={searchValue:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.a,{className:"menu"},r.a.createElement(N.a,null,r.a.createElement(x.a,{xs:3,sm:4},r.a.createElement(W.a,{to:"/online-shop"},r.a.createElement(J.a,{className:"float-right",variant:"primary",onClick:function(){return e.props.onResetReceivedandFilteredData()}},r.a.createElement("i",{className:"fas fa-home"})))),r.a.createElement(x.a,{className:"text-center",xs:6,sm:4},r.a.createElement(W.a,{to:"/online-shop/search"},r.a.createElement(T.a.Control,{type:"text",placeholder:"Search",value:this.props.searchValue,onChange:this.handleSearchChange}))),r.a.createElement(x.a,{xs:3,sm:4},r.a.createElement(W.a,{to:"/online-shop/cart/info"},r.a.createElement(J.a,{variant:"primary float-left",onClick:function(){return e.props.onResetReceivedandFilteredData()}},r.a.createElement("i",{className:"fas fa-shopping-cart"}),'"\xa0',r.a.createElement(ae.a,{variant:"primary"},this.props.cartItemsLength))))),r.a.createElement("hr",null))}}]),t}(n.Component),re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleDecreaseQuantity=function(e){a.handleQuantity(e,1,-1)},a.handleIncreaseQuantity=function(e){a.handleQuantity(e,-1,1)},a.handleQuantity=function(e,t,n){a.props.onChangeItemQuantity(e,t,n)},a.handleRemoveFromCart=function(e){a.props.onRemoveCartItem(e)},a.InfoView=function(){var e=a.props.initialItems,t=a.props.cartItems,n=[];t.forEach(function(t,i){var c=0===t.quantity,o=e.find(function(e){return e.id===t.itemId});n.push(r.a.createElement(F.a,{key:i},r.a.createElement(N.a,{className:"text-center"},r.a.createElement(x.a,{xs:6,sm:2,className:"pb-4 pb-sm-0"},r.a.createElement(W.a,{to:"/online-shop/item-details/item-id-"+o.id},r.a.createElement("img",{className:"cartItemImage",alt:"",src:o.imagesSources[0]}))),r.a.createElement(x.a,{xs:6,sm:3,className:"pb-4 pb-sm-0 align-self-center"},r.a.createElement(W.a,{to:"/online-shop/item-details/item-id-"+o.id},o.name)),r.a.createElement(x.a,{xs:12,sm:2,className:"pb-4 pb-sm-0 align-self-center"},r.a.createElement(N.a,null,r.a.createElement(x.a,{xs:4,sm:4},r.a.createElement(J.a,{className:"float-left",disabled:c,onClick:function(){return a.handleDecreaseQuantity(t)}},r.a.createElement("i",{className:"fas fa-minus"}))),r.a.createElement(x.a,{xs:4,sm:4,className:"align-self-center"},t.quantity),r.a.createElement(x.a,{xs:4,sm:4},r.a.createElement(J.a,{className:"float-none float-sm-right",onClick:function(){return a.handleIncreaseQuantity(t)}},r.a.createElement("i",{className:"fas fa-plus"}))))),r.a.createElement(x.a,{xs:12,sm:2,className:"pb-4 pb-sm-0 align-self-center"},t.price," EUR/unit"),r.a.createElement(x.a,{xs:12,sm:2,className:"pb-4 pb-sm-0 align-self-center"},"Total: ",t.totalPrice," EUR"),r.a.createElement(x.a,{xs:12,sm:1,className:"align-self-center"},r.a.createElement(J.a,{onClick:function(){return a.handleRemoveFromCart(t)}},r.a.createElement("i",{className:"fas fa-trash-alt"})))),r.a.createElement("hr",null)))});var i=0===a.props.cartItemsSum;return r.a.createElement(F.a,null,r.a.createElement(N.a,null,n),r.a.createElement(N.a,{className:"pt-2"},r.a.createElement(F.a,null,r.a.createElement(N.a,null,r.a.createElement(x.a,null,r.a.createElement("h4",{className:"float-right"},a.props.cartItemsSum," EUR"))),r.a.createElement(N.a,{className:"pt-1"},r.a.createElement(x.a,null,r.a.createElement(W.a,{to:"checkout"},r.a.createElement(J.a,{className:"float-right",disabled:i},"Checkout")))))))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=0===this.props.cartItems.length;return r.a.createElement(F.a,null,e?r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"Cart is empty. Pick something.")):r.a.createElement(this.InfoView,null))}}]),t}(n.Component),ie=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.onChange(e),e.persist()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,this.props.label),r.a.createElement(T.a.Control,{name:this.props.name,type:this.props.type,defaultValue:this.props.defaultValue,placeholder:this.props.placeholder,required:!0,onChange:this.handleChange,pattern:this.props.pattern}),r.a.createElement(T.a.Control.Feedback,{type:"invalid"},this.props.feedback))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.props.onChange(e)},a.handlePaymentMethodChange=function(e){var t="Credit Card"===e.target.value;a.setState(function(){return{showCreditCardExtraFields:t}}),a.props.onPaymenthMethodChange(e)},a.PaymentMethods=function(){var e=[];return a.props.paymentMethods.forEach(function(t,a){e.push(r.a.createElement("option",{key:a+1,value:t},t))}),e},a.state={showTotalPrice:!1,showCreditCardExtraFields:"Credit Card"===a.props.checkoutData.paymentMethod.value},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Payment method"),r.a.createElement(T.a.Control,{as:"select",defaultValue:this.props.selectedOption,onChange:this.handlePaymentMethodChange},r.a.createElement(this.PaymentMethods,null))),this.state.showCreditCardExtraFields&&r.a.createElement(ie,{label:"Credit card number",name:"creditCardNumber",type:"text",defaultValue:this.props.checkoutData.creditCardNumber,placeholder:"Ex. 5500000000000004",feedback:"Invalid format. Ex. 5500000000000004",pattern:this.props.creditCardNumRegex,onChange:this.handleChange}),this.state.showCreditCardExtraFields&&r.a.createElement(ie,{label:"Credit card expiration date",name:"creditCardExpirationDate",type:"text",defaultValue:this.props.checkoutData.creditCardExpirationDate,placeholder:"Ex. 02/19",feedback:"Invalid format. Ex. 02/19",pattern:this.props.creditCardExpDateRegex,onChange:this.handleChange}))}}]),t}(n.Component),oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleChange=function(e){a.props.onChange(e)},a.DeliveryOptions=function(){var e=[];return a.props.deliveryOptions.forEach(function(t,a){e.push(r.a.createElement("option",{key:a+1,value:t.name},t.name+" - "+t.price+" EUR"))}),e},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Label,null,"Delivery option"),r.a.createElement(T.a.Control,{as:"select",defaultValue:this.props.selectedOption,onChange:this.handleChange},r.a.createElement(this.DeliveryOptions,null)))}}]),t}(n.Component),le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.onChange(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ie,{label:"Full name",name:"name",type:"text",defaultValue:this.props.checkoutData.name,placeholder:"Ex. John Smith",feedback:"This field is required.",pattern:null,onChange:this.handleChange}),r.a.createElement(ie,{label:"Email",name:"email",type:"email",defaultValue:this.props.checkoutData.email,placeholder:"example@gmail.com",feedback:"Incorrect email format.",pattern:null,onChange:this.handleChange}),r.a.createElement(ie,{label:"Address",name:"address",type:"text",defaultValue:this.props.checkoutData.address,placeholder:"Street, city, postalcode",feedback:"This field is required.",pattern:null,onChange:this.handleChange}))}}]),t}(n.Component),se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleTextFormGroupDataChange=function(e){a.setState(function(){return{checkoutData:Object(I.a)({},a.state.checkoutData,Object(Z.a)({},e.target.name,e.target.value)),shouldCheckFieldValidity:!0,isFormValid:a.isFormValid()}})},a.handleDeliveryOptionChange=function(e){var t=e.target.value,n=a.findDeliveryOptionByName(t),r=Object(I.a)({},a.state.checkoutData);r.deliveryOption.value=n,r.deliveryOption.selected=t,a.setState(function(){return{checkoutData:r,deliveryPrice:n.price,shouldCheckFieldValidity:!0}}),a.recalculateTotalPriceWithDeliveryOption(n)},a.handlePaymentMethodChange=function(e){var t=e.target.value,n=Object(I.a)({},a.state.checkoutData);n.paymentMethod.value=t,n.paymentMethod.selected=t,a.setState(function(){return{checkoutData:n,shouldCheckFieldValidity:!0,isFormValid:"Credit Card"!==t}})},a.handleButton=function(){a.props.onCheckoutDataChange(a.state.checkoutData,a.isFormValid())},a.recalculateTotalPriceWithDeliveryOption=function(e){var t=a.props.cartItemsSum;t+=e.price,t=h.roundToTwoDecimalPlaces(t),a.setState(function(){return{totalPrice:t}})},a.findDeliveryOptionByName=function(e){return a.props.deliveryOptions.find(function(t){return t.name.substring(0,2)===e.substring(0,2)})},a.isFormValid=function(){var e=document.getElementById("checkoutForm"),t=!1;return"undefinded"!==e&&null!==e&&(t=e.checkValidity()),t},a.CheckoutView=function(){return r.a.createElement(F.a,null,r.a.createElement(x.a,{sm:5,className:"col-centered"},r.a.createElement(T.a,{id:"checkoutForm",validated:a.state.shouldCheckFieldValidity},r.a.createElement(le,{checkoutData:a.props.checkoutData,onChange:a.handleTextFormGroupDataChange}),r.a.createElement(ce,{checkoutData:a.props.checkoutData,paymentMethods:a.props.paymentMethods,creditCardNumRegex:a.state.regex.creditCardNumber,creditCardExpDateRegex:a.state.regex.creditCardExpirationDate,selectedOption:a.props.checkoutData.paymentMethod.value,onPaymenthMethodChange:a.handlePaymentMethodChange,onChange:a.handleTextFormGroupDataChange}),r.a.createElement(oe,{deliveryOptions:a.props.deliveryOptions,selectedOption:a.props.checkoutData.deliveryOption.selected,onChange:a.handleDeliveryOptionChange}),r.a.createElement("h5",{className:"text-center"},h.roundToTwoDecimalPlaces(a.props.cartItemsSum+a.state.deliveryPrice)," ","EUR"),r.a.createElement(N.a,{className:"text-center pt-2"},r.a.createElement(x.a,null,r.a.createElement(W.a,{to:"info"},r.a.createElement(J.a,{onClick:a.handleButton},"Back"))),r.a.createElement(x.a,null,r.a.createElement(W.a,{to:"summary"},r.a.createElement(J.a,{disabled:!a.state.isFormValid,onClick:a.handleButton},"Confirm")))))))},a.state={checkoutData:e.checkoutData,deliveryPrice:e.checkoutData.deliveryOption.value.price,showTotalPrice:!1,shouldCheckFieldValidity:!1,isFormValid:!1,regex:{creditCardNumber:"^(?:4[0-9]{12}(?:[0-9]{3})?|[25][1-7][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35d{3})d{11})$",creditCardExpirationDate:"^(0[1-9]|1[0-2])/?([0-9]{4}|[0-9]{2})$"}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(this.CheckoutView,null)}}]),t}(n.Component),ue=a(106),me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleCloseModal=function(){a.props.onPurchaseComplete(),a.setState({showModal:!1})},a.handleShowModal=function(){a.setState({showModal:!0})},a.EndOfDemoModal=function(){return r.a.createElement(ue.a,{show:a.state.showModal,onHide:a.handleCloseModal},r.a.createElement(ue.a.Header,{closeButton:!0},r.a.createElement(ue.a.Title,null,"Online shop")),r.a.createElement(ue.a.Body,null,r.a.createElement("p",null,"Your purchases are completed. This is the end of demo version. You will be redirected to main page."),r.a.createElement("p",null,"PS. Check available quantity of items which you just bought.")),r.a.createElement(ue.a.Footer,null,r.a.createElement(W.a,{to:"/online-shop"},r.a.createElement(J.a,{variant:"primary",onClick:a.handleCloseModal},"Ok"))))},a.SummaryRow=function(e){return r.a.createElement(N.a,null,r.a.createElement(x.a,{className:"text-right"},r.a.createElement("h6",null,e.name)),r.a.createElement(x.a,{className:"text-left"},r.a.createElement("h6",null,e.value)))},a.state={showModal:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.checkoutData,t="Credit Card"===e.paymentMethod.value;return r.a.createElement(F.a,null,r.a.createElement(x.a,{xs:12,sm:5,className:"col-centered text-center"},r.a.createElement(this.SummaryRow,{name:"Name:",value:e.name}),r.a.createElement(this.SummaryRow,{name:"Email:",value:e.email}),r.a.createElement(this.SummaryRow,{name:"Address:",value:e.address}),r.a.createElement(this.SummaryRow,{name:"Payment method:",value:e.paymentMethod.value}),t?r.a.createElement("div",null,r.a.createElement(this.SummaryRow,{name:"Credit card number:",value:e.creditCardNumber}),r.a.createElement(this.SummaryRow,{name:"Credit card expiration date:",value:e.creditCardExpirationDate})):"",r.a.createElement(this.SummaryRow,{name:"Delivery option:",value:e.deliveryOption.value.name+" - "+e.deliveryOption.value.price}),r.a.createElement(this.SummaryRow,{name:"Price to pay:",value:h.roundToTwoDecimalPlaces(this.props.cartItemsSum+e.deliveryOption.value.price)+" EUR"}),r.a.createElement(N.a,{className:"text-center pt-2"},r.a.createElement(x.a,null,r.a.createElement(W.a,{to:"checkout"},r.a.createElement(J.a,null,"Back"))),r.a.createElement(x.a,null,r.a.createElement(J.a,{onClick:this.handleShowModal},"Buy")))),r.a.createElement(this.EndOfDemoModal,null))}}]),t}(n.Component),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleQuantityChange=function(e,t,n){a.props.onChangeItemQuantity(e,t,n)},a.handleRemove=function(e){a.props.onRemoveCartItem(e)},a.handleCheckoutDataChange=function(e){a.setState(function(){return{checkoutData:e}})},a.handlePurchaseComplete=function(){a.props.onPurchaseComplete()},a.state={checkoutData:{name:"",email:"",address:"",paymentMethod:{value:a.props.initialData.paymentMethods[0],selected:a.props.initialData.paymentMethods[0]},creditCardNumber:"",creditCardExpirationDate:"",deliveryOption:{value:a.props.initialData.deliveryOptions[0],selected:a.props.initialData.deliveryOptions[0].name}}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.a,null,r.a.createElement(j.a,{exact:!0,path:"".concat(this.props.routeUrl,"/info"),component:function(t){return r.a.createElement(re,{cartItems:e.props.cartItems,cartItemsSum:e.props.cartItemsSum,initialItems:e.props.initialData.items,routeUrl:t.match.url,onChangeItemQuantity:e.handleQuantityChange,onRemoveCartItem:e.handleRemove})}}),r.a.createElement(j.a,{eaxct:!0,path:"".concat(this.props.routeUrl,"/checkout"),component:function(t){return r.a.createElement(se,{cartItemsSum:e.props.cartItemsSum,checkoutData:e.state.checkoutData,paymentMethods:e.props.initialData.paymentMethods,deliveryOptions:e.props.initialData.deliveryOptions,routeUrl:t.match.url,onCheckoutDataChange:e.handleCheckoutDataChange})}}),r.a.createElement(j.a,{eaxct:!0,path:"".concat(this.props.routeUrl,"/summary"),component:function(t){return r.a.createElement(me,{cartItemsSum:e.props.cartItemsSum,checkoutData:e.state.checkoutData,routeUrl:t.match.url,onPurchaseComplete:e.handlePurchaseComplete})}}))}}]),t}(n.Component),he=function e(){Object(o.a)(this,e)};he.recalculateTotalSum=function(e){return e.length>0?h.roundToTwoDecimalPlaces(e.map(function(e){return e.totalPrice}).reduce(function(e,t){return e+t})):0},he.recalculateOnAdd=function(e,t,a){var n=!1,r=he.findItemInCart(a,e),i=h.getItemById(t,e);if(i.quantityOnStock>0){if(i.quantityOnStock-=1,void 0===r){var c=new k(e,i.price);c.setQuantity(1),a.cartItems.push(c)}else r.setQuantity(r.quantity+1);a.cartItemsSum=he.recalculateTotalSum(a.cartItems),n=!0}return{cartData:a,isOk:n}},he.recalculateOnRemove=function(e,t,a){var n=t.cartItems,r=h.getItemById(a,e.itemId),i=t.cartItems.map(function(e){return e.itemId}).indexOf(e.itemId),c=t.cartItems[i].quantity;return t.cartItems.splice(i,1),t.cartItemsSum=he.recalculateTotalSum(n),r.quantityOnStock+=c,{items:a,cartData:t}},he.recalculateAllAfterItemQuantityChange=function(e,t,a,n,r){var i=e.find(function(e){return e.id===a.itemId}),c=t.cartItems.find(function(e){return e.itemId===a.itemId});if(n>0&&c.quantity>0||n<0&&i.quantityOnStock>0){i.quantityOnStock+=n;var o=c.quantity+r;c.setQuantity(o),t.cartItemsSum=he.recalculateTotalSum(t.cartItems)}return{items:e,cartData:t}},he.findItemInCart=function(e,t){return e.cartItems.find(function(e){return e.itemId===t})};var pe=he,fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSidebarChange=function(e,t){a.setState(function(){return{receivedData:Object(I.a)({},a.state.receivedData,{activeCategory:e,activeFeatures:t}),filteredData:Object(I.a)({},a.state.filteredData,{items:P.filterByAllOptions(a.state.initialData.items,a.state.receivedData.searchValue,e,t)})}})},a.handleSearchChange=function(e){a.setState(function(){return{receivedData:Object(I.a)({},a.state.receivedData,{searchValue:e}),filteredData:Object(I.a)({},a.state.filteredData,{items:P.filterByAllOptions(a.state.initialData.items,e,a.state.receivedData.activeCategory,a.state.receivedData.activeFeatures)})}})},a.handleAddReview=function(e,t){var n=Object(D.a)(a.state.initialData.items),r=n.find(function(e){return e.id===t});void 0===r.reviews.find(function(t){return t.name===e.name})&&(r.reviews.push(e),h.saveToLocalStorage("items",n),a.setState(function(){return{initialData:Object(I.a)({},a.state.initialData,{items:n})}}))},a.handleAddToCart=function(e){var t=pe.recalculateOnAdd(e,a.state.initialData.items,a.state.cartData);t.isOk&&(h.saveToLocalStorage("items",a.state.initialData.items),a.saveCartDataToLocalStorage(t.cartData),a.setState(function(){return{cartData:t.cartData}}))},a.handleRemoveFromCart=function(e){var t=pe.recalculateOnRemove(e,a.state.cartData,a.state.initialData.items);h.saveToLocalStorage("items",a.state.initialData.items),a.saveCartDataToLocalStorage(t.cartData),a.setState(function(){return{initialData:Object(I.a)({},a.state.initialData,{items:t.items}),cartData:t.cartData}})},a.handleItemQuantityChange=function(e,t,n){var r=pe.recalculateAllAfterItemQuantityChange(a.state.initialData.items,a.state.cartData,e,t,n);h.saveToLocalStorage("items",r.items),a.saveCartDataToLocalStorage(r.cartData),a.setState(function(){return{initialData:Object(I.a)({},a.state.initialData,{items:r.items}),cartData:r.cartData}})},a.handlePurchaseComplete=function(){h.saveToLocalStorage("items",a.state.initialData.items),h.saveToLocalStorage("cartItems",[]),h.saveToLocalStorage("cartItemsSum",0),a.setState(function(){return{cartData:{cartItems:[],cartItemsSum:0}}})},a.loadCartDataFromLocalStorage=function(){var e={cartItems:h.loadFromLocalStorage("cartItems",h.rebuildCartItemsFromJson),cartItemsSum:h.loadFromLocalStorage("cartItemsSum")};null!==e.cartItems&&null!==e.cartItemsSum&&a.setState({cartData:e})},a.saveCartDataToLocalStorage=function(e){h.saveToLocalStorage("cartItems",e.cartItems),h.saveToLocalStorage("cartItemsSum",e.cartItemsSum)},a.handleResetReceivedandFilteredData=function(){a.setState(function(){return{receivedData:{searchValue:"",activeCategory:a.props.data.categories[0].name,activeFeatures:[]},filteredData:{items:P.filterByCategoryAndFeature(a.props.data.items,a.props.data.categories[0].name,[])}}})},a.Viewer=function(){return r.a.createElement(N.a,null,r.a.createElement(x.a,{sm:3},r.a.createElement(V,{categories:a.props.data.categories,activeCategory:a.state.receivedData.activeCategory,onSidebarChange:a.handleSidebarChange})),r.a.createElement(x.a,{sm:9},r.a.createElement(z,{filteredItems:a.state.filteredData.items,onAddToCartClick:a.handleAddToCart})))},a.NoMatch=function(e){var t=e.location;return r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"pb-2"},r.a.createElement("h1",null,"Error 404"),r.a.createElement("h3",null,"This page doesn't exists.")),r.a.createElement("h3",null,"No match for ",r.a.createElement("code",null,t.pathname)))},a.state={initialData:{items:e.data.items,categories:e.data.categories,paymentMethods:e.data.paymentMethods,deliveryOptions:e.data.deliveryOptions},receivedData:{searchValue:"",activeCategory:a.props.data.categories[0].name,activeFeatures:[]},filteredData:{items:P.filterByCategoryAndFeature(a.props.data.items,a.props.data.categories[0].name,[])},cartData:{cartItems:[],cartItemsSum:0}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadCartDataFromLocalStorage()}},{key:"render",value:function(){var e=this;return r.a.createElement(w.a,null,r.a.createElement(F.a,null,r.a.createElement(N.a,null,r.a.createElement(ne,{searchValue:this.state.receivedData.searchValue,onSearchChange:this.handleSearchChange,cartItemsLength:this.state.cartData.cartItems.length,onResetReceivedandFilteredData:this.handleResetReceivedandFilteredData})),r.a.createElement(S.a,null,r.a.createElement(j.a,{exact:!0,path:"(/online-shop|/online-shop/search)",component:this.Viewer}),r.a.createElement(j.a,{path:"/online-shop/cart",component:function(t){return r.a.createElement(de,{cartItems:e.state.cartData.cartItems,cartItemsSum:e.state.cartData.cartItemsSum,initialData:e.state.initialData,routeUrl:t.match.url,onChangeItemQuantity:e.handleItemQuantityChange,onRemoveCartItem:e.handleRemoveFromCart,onPurchaseComplete:e.handlePurchaseComplete})}}),r.a.createElement(j.a,{path:"/online-shop/item-details/item-id-:id",component:function(t){return r.a.createElement(te,{initialItems:e.state.initialData.items,routeParamId:t.match.params.id,onAddReview:e.handleAddReview,onAddToCartClick:e.handleAddToCart})}}),r.a.createElement(j.a,{component:this.NoMatch}))))}}]),t}(n.Component),ve=(a(95),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).generateData=function(){return new Promise(function(e,a){(new g).generate(t.dataQuantity)instanceof Error?a(new Error("Generate mocks with DataGenerator failed.")):e((new g).generate(t.dataQuantity))})},e.ErrorContainer=function(){return r.a.createElement("div",{className:"text-center pt-5"},r.a.createElement("div",{className:"pb-2"},r.a.createElement("h2",null,"Error while fetching data. Please reload the page."),r.a.createElement("h5",null,'Error message: "',e.state.error.message,'"')))},e.WaitContainer=function(){return r.a.createElement("div",{className:"text-center pt-5"},r.a.createElement("div",{className:"pb-2"},r.a.createElement("h2",null,"Downloading data...")))},e.state={data:null,error:{occured:!1,message:""}},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.generateData().then(function(t){var a=h.loadFromLocalStorage("items",h.rebuildItemsFromJson);null===a?h.saveToLocalStorage("items",t.items):t.items=a,e.setState({data:t})}).catch(function(t){e.setState({error:{occured:!0,message:t.message}})})}},{key:"render",value:function(){return null===this.state.data||void 0===this.state.data||this.state.error.occured?this.state.error.occured?r.a.createElement(this.ErrorContainer,null):r.a.createElement(this.WaitContainer,null):r.a.createElement(fe,{data:this.state.data})}}]),t}(n.Component));ve.dataQuantity=200;var ye=ve;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[58,2,1]]]);
//# sourceMappingURL=main.cd53c6f9.chunk.js.map