(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{56:function(e,t,a){e.exports=a(97)},93:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),c=a.n(i),l=a(7),o=a(8),s=a(10),m=a(9),u=a(11),d=function e(){Object(l.a)(this,e)};d.randomBetween=function(e,t){return Math.random()*(t-e)+e},d.roundToTwoDecimalPlaces=function(e){return Math.round(100*e)/100},d.randomArrayItem=function(e){return e[Math.floor(Math.random()*e.length)]},d.arrayFromArrayRandomItems=function(e){return Array.from(e).filter(function(){return d.randomBoolean()})},d.randomBoolean=function(){return Math.random()>=.5},d.arrayContainsAllElementsFromAnother=function(e,t){return t.map(function(t){return e.some(function(e){return e===t})}).every(function(e){return e})},d.getItemById=function(e,t){return e.find(function(e){return e.id===t})};var h=d,p=a(49),f=a.n(p),v=a(50),C=a.n(v),E=function(){function e(){Object(l.a)(this,e),this.data=[],this.categories=[new g("Category 0",[new b("C0 feature 0"),new b("C0 feature 1"),new b("C0 feature 2")]),new g("Category 1",[new b("C1 feature 0"),new b("C1 feature 1"),new b("C1 feature 2"),new b("C1 feature 3")]),new g("Category 2",[new b("C2 feature 0"),new b("C2 feature 1"),new b("C2 feature 2"),new b("C2 feature 3"),new b("C2 feature 4")])],this.paymentMethods=["Credit Card","PayPal","PayU"],this.deliveryOptions=[{name:"UPS",price:14.99},{name:"DHL",price:16.99},{name:"DPD",price:18.99}]}return Object(o.a)(e,[{key:"generate",value:function(e){for(var t=new C.a,a=0;a<e;a++){var n=h.randomArrayItem(this.categories);this.data.push(new y(f()(),t.capitalize(t.word({syllables:2,lenth:6}))+" #"+a,h.roundToTwoDecimalPlaces(h.randomBetween(1,1e3)),t.sentence({words:10}),t.paragraph(),n.name,h.arrayFromArrayRandomItems(n.features.map(function(e){return e.name})),this.generateRandomReviews(t,Math.floor(h.randomBetween(2,6))),this.generateRandomImages(t,Math.floor(h.randomBetween(2,6))),Math.floor(h.randomBetween(1,11))))}}},{key:"generateRandomImages",value:function(e,t){for(var a=[],n=0;n<t;n++)a.push("https://avatars.dicebear.com/v2/identicon/"+e.word({length:15})+".svg");return a}},{key:"generateRandomReviews",value:function(e,t){for(var a=[],n=0;n<t;n++)a.push(new O(e.name(),e.date({string:!1,american:!1,year:2018}),e.sentence()));return a}},{key:"getItems",value:function(){return this.data}},{key:"getCategories",value:function(){return this.categories}},{key:"getPaymentMethods",value:function(){return this.paymentMethods}},{key:"getDeliveryOptions",value:function(){return this.deliveryOptions}}]),e}(),y=function e(t,a,n,r,i,c,o,s,m,u){Object(l.a)(this,e),this.id=t,this.name=a,this.price=n,this.descriptionShort=r,this.descriptionLong=i,this.categoryName=c,this.featuresNames=o,this.reviews=s,this.imagesSources=m,this.quantityOnStock=u},g=function e(t,a){Object(l.a)(this,e),this.name=t,this.features=a},b=function(){function e(t){Object(l.a)(this,e),this.name=t,this.state=!1}return Object(o.a)(e,[{key:"setState",value:function(e){this.state=e}},{key:"switchState",value:function(){this.state=!this.state}}]),e}(),O=function e(t,a,n){Object(l.a)(this,e),this.name=t,this.date=a,this.text=n},k=function(){function e(t,a){Object(l.a)(this,e),this.itemId=t,this.quantity=0,this.price=a,this.deliveryCost=0,this.totalPrice=0}return Object(o.a)(e,[{key:"setQuantity",value:function(e){this.quantity=e,this.totalPrice=h.roundToTwoDecimalPlaces(this.quantity*this.price)}}]),e}(),w=a(13),I=a(109),D=a(107),j=a(99),S=a(68),F=a(98),N=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"filterByCategoryAndFeature",value:function(e,t,a){return a.every(function(e){return!1===e.state})?Object.values(e.filter(function(e){return e.categoryName===t})):e.filter(function(e){return h.arrayContainsAllElementsFromAnother(e.featuresNames,a.filter(function(e){return!0===e.state}).map(function(e){return e.name}))&&e.categoryName===t})}},{key:"filterBySearchValue",value:function(e,t){var a=t.toLowerCase();return e.filter(function(e){return e.name.toLowerCase().includes(a)||e.descriptionShort.toLowerCase().includes(a)||e.descriptionLong.toLowerCase().includes(a)||e.price.toString().includes(a)})}}]),e}(),x=a(106),P=a(105),A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.onItemClick(e)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleActive",value:function(e,t){if(this.props.activeCategory===e||null===this.props.activeCategory&&0===t)return"active"}},{key:"render",value:function(){var e=this;return this.props.categoriesNames.map(function(t,a){return r.a.createElement(x.a.Item,{action:!0,onClick:function(){e.handleClick(t)},className:e.handleActive(t,a),key:t},t)})}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.onItemClick(e)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.props.features.map(function(t){return r.a.createElement(P.a.Check,{type:"checkbox",label:t.name,key:t.name,onChange:function(){e.handleClick(t.name)}})})}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleClickOnCategory=function(e){var t=a.getFeaturesFromCategory(e);a.state.activeCategory!==e&&a.resetFeatures(t),a.setState(function(){return{activeCategory:e,activeFeatures:t}}),a.props.onSidebarChange(e,t)},a.handleClickOnFeature=function(e){var t=a.state.activeFeatures;t.find(function(t){return t.name===e}).switchState(),a.setState(function(){return{activeFeatures:t}}),a.props.onSidebarChange(a.state.activeCategory,t)},a.state={activeCategory:"",activeFeatures:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({activeCategory:"Category 0",activeFeatures:this.getFeaturesFromCategory("Category 0")})}},{key:"getFeaturesFromCategory",value:function(e){return this.props.categories.find(function(t){return t.name===e}).features}},{key:"resetFeatures",value:function(e){e.forEach(function(e){e.setState(!1)})}},{key:"render",value:function(){return r.a.createElement(F.a,null,r.a.createElement(x.a,{className:"pb-3",variant:"flush"},r.a.createElement(A,{categoriesNames:this.props.categories.map(function(e){return e.name}),activeCategory:this.props.activeCategory,onItemClick:this.handleClickOnCategory})),r.a.createElement(P.a,{className:"pl-3"},r.a.createElement(P.a.Group,null,r.a.createElement(R,{features:this.getFeaturesFromCategory(this.props.activeCategory),onItemClick:this.handleClickOnFeature}))))}}]),t}(n.Component),V=a(110),M=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"handlePage",value:function(t,a){return t.activePage=a,t.firstItemNumOnActivePage=e.getFirstItemNumOnActivePage(t),t}}]),e}();M.getPagesLen=function(e,t){return Math.ceil(e/(t.rows*t.columns))-1},M.getFirstItemNumOnActivePage=function(e){var t=e.rows*e.columns,a=e.activePage;e.firstItemNumOnActivePage;return 0===a?0:t*a};var q=M,L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handlePage=function(e,t){var a=e.cardsData,n=a.activePage;switch(t){case"first":e.onItemClick(q.handlePage(a,0));break;case"last":e.onItemClick(q.handlePage(a,q.getPagesLen(e.itemsLength,a)));break;case"prev":e.onItemClick(q.handlePage(a,n-1));break;case"next":e.onItemClick(q.handlePage(a,n+1))}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=0===t.cardsData.activePage,n=t.cardsData.activePage===q.getPagesLen(t.itemsLength,t.cardsData);return r.a.createElement("div",null,r.a.createElement(V.a,{className:"pt-2 float-right"},r.a.createElement(V.a.First,{disabled:a,onClick:function(){return e.handlePage(t,"first")}}),r.a.createElement(V.a.Prev,{disabled:a,onClick:function(){return e.handlePage(t,"prev")}}),r.a.createElement(V.a.Item,{active:!0},t.cardsData.activePage+1),r.a.createElement(V.a.Ellipsis,{disabled:!0}),r.a.createElement(V.a.Item,{onClick:function(){return e.handlePage(t,"last")}},q.getPagesLen(t.itemsLength,t.cardsData)+1),r.a.createElement(V.a.Next,{disabled:n,onClick:function(){return e.handlePage(t,"next")}})))}}]),t}(n.Component),B=a(102),Q=a(108),U=a(101),G=a(100),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleDetailsClick=function(){a.props.onItemClick(a.state.item)},a.handleAddToCart=function(){a.props.onAddToCartClick(a.state.item.id)},a.state={item:a.props.item},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,null,r.a.createElement(Q.a.Img,{className:"mx-auto d-block viewerCardImage",variant:"top",src:this.state.item.imagesSources[0]}),r.a.createElement(Q.a.Body,{className:"d-flex flex-column"},r.a.createElement(Q.a.Title,null,this.state.item.name),r.a.createElement(Q.a.Text,null,this.state.item.descriptionShort),r.a.createElement("div",{className:"mt-auto"},r.a.createElement(j.a,null,r.a.createElement(S.a,null,r.a.createElement(G.a,{to:"/item-details/item-id-"+this.state.item.id},r.a.createElement(U.a,{className:"float-left",variant:"primary",onClick:this.handleDetailsClick},r.a.createElement("i",{className:"fas fa-info"})," \xa0 Details"))),r.a.createElement(S.a,null,r.a.createElement(U.a,{className:"float-right",variant:"primary",onClick:this.handleAddToCart},r.a.createElement("i",{className:"fas fa-cart-arrow-down"})))),r.a.createElement(j.a,{className:"pt-3 text-center"},r.a.createElement(S.a,null,this.state.item.price+" EUR")))))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).handleItemClick=function(e){a.props.onItemClick(e)},a.handleAddToCart=function(e){a.props.onAddToCartClick(e)},a.CardGroups=function(){for(var e=a.props.cardsData.rows,t=a.props.cardsData.firstItemNumOnActivePage,n=[],i=0;i<e;i++)for(var c=[],l=0;l<a.props.cardsData.columns;l++){var o=a.props.items[t];void 0!==o&&(c.push(r.a.createElement(W,{item:o,key:o.id,onItemClick:a.handleItemClick,onAddToCartClick:a.handleAddToCart})),t+=1),l%e===0&&n.push(r.a.createElement(B.a,{className:"pb-2",key:i},c))}return n},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(this.CardGroups,null)}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleItemClick=function(e){a.props.onItemClick(e)},a.handleActivepage=function(e){a.setState(function(){return{cardsData:e}})},a.handleAddToCart=function(e){a.props.onAddToCartClick(e)},a.state={cardsData:{rows:e.viewerRows,columns:e.viewerColumns,activePage:0,firstItemNumOnActivePage:0}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,null,r.a.createElement(Y,{items:this.props.filteredItems,cardsData:this.state.cardsData,onItemClick:this.handleItemClick,onAddToCartClick:this.handleAddToCart}),r.a.createElement(L,{itemsLength:this.props.filteredItems.length,cardsData:this.state.cardsData,onItemClick:this.handleActivepage}))}}]),t}(n.Component),J=a(24),$=function(e){function t(e){var a,n=this;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleThumbnailClick=function(e){a.setState(function(){return{activeImageNum:e}})},a.handleAddToCart=function(){a.props.onAddToCartClick(a.props.item.id)},a.handleAddReviewClick=function(){a.props.onAddReview(new O(a.state.formData.name,new Date,a.state.formData.review),a.props.item.id),a.resetFormState()},a.handleFormInputChange=function(e){var t=e.target.name,n=e.target.value,r=!0===e.target.checkValidity(),i=a.state.formValidation;i[t]=r,a.setState(function(){return{formData:Object(w.a)({},a.state.formData,Object(J.a)({},t,n)),formValidation:i,isFormValid:Object.values(i).every(function(e){return!0===e}),isFieldValidated:!0}})},a.Images=function(e){return r.a.createElement(F.a,null,r.a.createElement(j.a,null,r.a.createElement("img",{className:"itemDetailsImage",alt:"",src:e.imagesSources[e.activeImageNum]})),r.a.createElement(j.a,{className:"pt-4 align-items-center"},r.a.createElement(n.Thumbnails,{sources:e.imagesSources})))},a.Thumbnails=function(e){var t=[];return e.sources.forEach(function(e,n){t.push(r.a.createElement(S.a,{key:n},r.a.createElement(U.a,{variant:"light",onClick:function(){return a.handleThumbnailClick(n)}},r.a.createElement("img",{alt:"",style:{height:"20px"},src:e}))))}),t},a.Reviews=function(e){var t=e.initialItems.find(function(t){return t.id===e.item.id}),a=[];return t.reviews.forEach(function(e,t){a.push(r.a.createElement("div",{key:t},r.a.createElement(F.a,{className:"pt-3"},r.a.createElement(j.a,null,e.name," -"," ",e.date.toLocaleString("pl-PL",{day:"numeric",month:"numeric",year:"numeric"})),r.a.createElement(j.a,null,e.text))))}),a},a.FormToAddReview=function(){return r.a.createElement("div",null,r.a.createElement(S.a,{sm:6,className:"pt-4 pl-0"},r.a.createElement("h4",null,"Add your review"),r.a.createElement(P.a,{className:"pt-3",validated:a.state.isFieldValidated},r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Control,{name:"name",value:a.state.formData.name,type:"text",placeholder:"Your name",required:!0,minLength:"5",onChange:a.handleFormInputChange}),r.a.createElement(P.a.Control.Feedback,{type:"invalid"},"This field is required. Min. characters is 5.")),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Control,{name:"review",value:a.state.formData.review,as:"textarea",placeholder:"Your review",rows:"3",minLength:"10",maxLength:"250",required:!0,onChange:a.handleFormInputChange}),r.a.createElement(P.a.Control.Feedback,{type:"invalid"},"This field is required. Min. characters: 10, max. 250.")),r.a.createElement(P.a.Group,null,r.a.createElement(U.a,{disabled:!a.state.isFormValid,onClick:a.handleAddReviewClick},"Submit")))))},a.state={activeImageNum:0,formData:{name:"",review:""},formValidation:{name:!1,review:!1},isFormValid:!1,isFieldValidated:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"resetFormState",value:function(){this.setState(function(){return{formData:{name:"",review:""},formValidation:{name:!1,review:!1},isFormValid:!1,isFieldValidated:!1}})}},{key:"render",value:function(){var e=0===this.props.item.quantityOnStock;return r.a.createElement(F.a,null,r.a.createElement(j.a,null,r.a.createElement(S.a,{className:"pb-3",sm:6},r.a.createElement(this.Images,{imagesSources:this.props.item.imagesSources,activeImageNum:this.state.activeImageNum})),r.a.createElement(S.a,{sm:6},r.a.createElement(F.a,null,r.a.createElement(j.a,null,r.a.createElement("h3",null,this.props.item.name)),r.a.createElement(j.a,null,r.a.createElement("p",null,"Id: ",this.props.item.id)),r.a.createElement(j.a,{className:"text-justify"},r.a.createElement("p",null,this.props.item.descriptionLong)),r.a.createElement(j.a,null,r.a.createElement(S.a,{className:"align-self-center pl-0"},r.a.createElement("span",{className:"float-left"},"On stock: ",this.props.item.quantityOnStock)),r.a.createElement(S.a,{className:"pr-0"},r.a.createElement(U.a,{className:"float-right",disabled:e,onClick:this.handleAddToCart},"Add \xa0 ",r.a.createElement("i",{className:"fas fa-cart-arrow-down"}))))))),r.a.createElement(j.a,{className:"pt-3"},r.a.createElement(F.a,{className:"pl-15"},r.a.createElement("h4",null,"Reviews"),r.a.createElement(this.Reviews,{item:this.props.item,initialItems:this.props.initialItems}),r.a.createElement(this.FormToAddReview,null))))}}]),t}(n.Component),z=a(103),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleSearchChange=function(e){var t=e.target.value;a.setState(function(){return{searchValue:t}}),""===t?a.props.onResetReceivedandFilteredData():(a.props.onSearchChange(t),e.persist(),e.preventDefault())},a.state={searchValue:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.a,{className:"menu"},r.a.createElement(j.a,null,r.a.createElement(S.a,{xs:3,sm:4},r.a.createElement(G.a,{to:"/"},r.a.createElement(U.a,{className:"float-right",variant:"primary",onClick:function(){return e.props.onResetReceivedandFilteredData()}},r.a.createElement("i",{className:"fas fa-home"})))),r.a.createElement(S.a,{className:"text-center",xs:6,sm:4},r.a.createElement(G.a,{to:"/search"},r.a.createElement(P.a.Control,{type:"text",placeholder:"Search",value:this.props.searchValue,onChange:this.handleSearchChange}))),r.a.createElement(S.a,{xs:3,sm:4},r.a.createElement(G.a,{to:"/cart/info"},r.a.createElement(U.a,{variant:"primary float-left",onClick:function(){return e.props.onResetReceivedandFilteredData()}},r.a.createElement("i",{className:"fas fa-shopping-cart"}),'"\xa0',r.a.createElement(z.a,{variant:"primary"},this.props.cartItemsLength))))),r.a.createElement("hr",null))}}]),t}(n.Component),X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).handleDecreaseQuantity=function(e){a.handleQuantity(e,1,-1)},a.handleIncreaseQuantity=function(e){a.handleQuantity(e,-1,1)},a.handleQuantity=function(e,t,n){a.props.onChangeItemQuantity(e,t,n)},a.handleRemoveFromCart=function(e){a.props.onRemoveCartItem(e)},a.InfoView=function(){var e=a.props.initialItems,t=a.props.cartItems,n=[];t.forEach(function(t,i){var c=0===t.quantity,l=e.find(function(e){return e.id===t.itemId});n.push(r.a.createElement(F.a,{key:i},r.a.createElement(j.a,{className:"text-center"},r.a.createElement(S.a,{xs:6,sm:2,className:"pb-4 pb-sm-0"},r.a.createElement("img",{className:"cartItemImage",alt:"",src:l.imagesSources[0]})),r.a.createElement(S.a,{xs:6,sm:3,className:"pb-4 pb-sm-0 align-self-center"},l.name),r.a.createElement(S.a,{xs:12,sm:2,className:"pb-4 pb-sm-0 align-self-center"},r.a.createElement(j.a,null,r.a.createElement(S.a,{xs:4,sm:4},r.a.createElement(U.a,{className:"float-left",disabled:c,onClick:function(){return a.handleDecreaseQuantity(t)}},r.a.createElement("i",{className:"fas fa-minus"}))),r.a.createElement(S.a,{xs:4,sm:4,className:"align-self-center"},t.quantity),r.a.createElement(S.a,{xs:4,sm:4},r.a.createElement(U.a,{className:"float-none float-sm-right",onClick:function(){return a.handleIncreaseQuantity(t)}},r.a.createElement("i",{className:"fas fa-plus"}))))),r.a.createElement(S.a,{xs:12,sm:2,className:"pb-4 pb-sm-0 align-self-center"},t.price," EUR/unit"),r.a.createElement(S.a,{xs:12,sm:2,className:"pb-4 pb-sm-0 align-self-center"},"Total: ",t.totalPrice," EUR"),r.a.createElement(S.a,{xs:12,sm:1,className:"align-self-center"},r.a.createElement(U.a,{onClick:function(){return a.handleRemoveFromCart(t)}},r.a.createElement("i",{className:"fas fa-trash-alt"})))),r.a.createElement("hr",null)))});var i=0===a.props.cartItemsSum;return r.a.createElement(F.a,null,r.a.createElement(j.a,null,n),r.a.createElement(j.a,{className:"pt-2"},r.a.createElement(F.a,null,r.a.createElement(j.a,null,r.a.createElement(S.a,null,r.a.createElement("h4",{className:"float-right"},a.props.cartItemsSum," EUR"))),r.a.createElement(j.a,{className:"pt-1"},r.a.createElement(S.a,null,r.a.createElement(G.a,{to:"checkout"},r.a.createElement(U.a,{className:"float-right",disabled:i},"Checkout")))))))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=0===this.props.cartItems.length;return r.a.createElement(F.a,null,e?r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"Cart is empty. Pick something.")):r.a.createElement(this.InfoView,null))}}]),t}(n.Component),Z=function(e){function t(e){var a,n=this;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handlePaymentMethodChange=function(e){var t=e.target.value,n=a.state.formValidation;n.paymentMethod="Choose..."!==t,n.creditCardExpirationDate="Choose..."!==t&&"Credit Card"!==t,n.creditCardNumber=n.creditCardExpirationDate;var r="Credit Card"===t;a.setState(function(){return{formData:Object(w.a)({},a.state.formData,{paymentMethod:t}),showCreditCardExtraFields:r,formValidation:n,isFormValid:a.allFieldsAreValid(n)}})},a.handleDeliveryOptionChange=function(e){var t=e.target.value,n=a.state.formValidation;n.deliveryOption="Choose..."!==t;var r=n.deliveryOption;a.setState(function(){return{controllers:Object(w.a)({},a.state.controllers,{showTotalPrice:r}),formData:Object(w.a)({},a.state.formData,{deliveryOption:t}),formValidation:n,isFormValid:a.allFieldsAreValid(n)}}),a.recalculateTotalPriceWithDeliveryOption(t)},a.recalculateTotalPriceWithDeliveryOption=function(e){var t=a.props.deliveryOptions.find(function(t){return t.name.substring(0,2)===e.substring(0,2)}),n=a.props.cartItemsSum;void 0!==t&&(n+=t.price,n=h.roundToTwoDecimalPlaces(n),a.setState(function(){return{formData:Object(w.a)({},a.state.formData,{deliveryOption:t}),totalPrice:n}}))},a.handleFormInputChange=function(e){var t=e.target.name,n=e.target.value,r=!0===e.target.checkValidity(),i=a.state.formValidation;i[t]=r,a.setState(function(){return{formData:Object(w.a)({},a.state.formData,Object(J.a)({},t,n)),formValidation:i,isFormValid:a.allFieldsAreValid(i),isFieldValidated:!0}})},a.handleConfirmButton=function(){a.props.onConfirmCheckoutData(a.state.formData,a.state.totalPrice)},a.allFieldsAreValid=function(e){return Object.values(e).every(function(e){return!0===e})},a.FormGroup=function(e){return r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,e.label),r.a.createElement(P.a.Control,{name:e.name,type:e.type,placeholder:e.placeholder,required:e.required,onChange:a.handleFormInputChange,pattern:e.pattern}),e.withFeedback?r.a.createElement(P.a.Control.Feedback,{type:"invalid"},e.feedback):"")},a.CheckoutView=function(){return r.a.createElement(F.a,null,r.a.createElement(S.a,{sm:5,className:"col-centered"},r.a.createElement(P.a,{validated:a.state.isFieldValidated},r.a.createElement(n.FormGroup,{label:"Full name",name:"name",type:"text",placeholder:"Ex. John Smith",required:!0,withFeedback:!0,feedback:"This field is required.",pattern:null}),r.a.createElement(n.FormGroup,{label:"Email",name:"email",type:"email",placeholder:"example@gmail.com",required:!0,withFeedback:!0,feedback:"Incorrect email format.",pattern:null}),r.a.createElement(n.FormGroup,{label:"Address",name:"address",type:"text",placeholder:"Street, city, postalcode",required:!0,withFeedback:!0,feedback:"This field is required.",pattern:null}),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Payment method"),r.a.createElement(P.a.Control,{as:"select",onChange:function(e){return a.handlePaymentMethodChange(e)}},r.a.createElement(n.PaymentMethods,null))),a.state.showCreditCardExtraFields&&r.a.createElement(n.FormGroup,{label:"Credit card number",name:"creditCardNumber",type:"text",placeholder:"Ex. 5500000000000004",required:!0,withFeedback:!0,feedback:"Invalid format. Ex. 5500000000000004",pattern:a.state.regex.creditCardNumber}),a.state.showCreditCardExtraFields&&r.a.createElement(n.FormGroup,{label:"Credit card expiration date",name:"creditCardExpirationDate",type:"text",placeholder:"Ex. 02/19",required:!0,withFeedback:!0,feedback:"Invalid format. Ex. 02/19",pattern:a.state.regex.creditCardExpirationDate}),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Delivery option"),r.a.createElement(P.a.Control,{as:"select",onChange:function(e){return a.handleDeliveryOptionChange(e)}},r.a.createElement(n.DeliveryOptions,null))),a.state.controllers.showTotalPrice&&r.a.createElement("h5",{className:"text-center"},a.state.totalPrice," EUR"),r.a.createElement(j.a,{className:"text-center pt-2"},r.a.createElement(S.a,null,r.a.createElement(G.a,{to:"info"},r.a.createElement(U.a,null,"Back"))),r.a.createElement(S.a,null,r.a.createElement(G.a,{to:"summary"},r.a.createElement(U.a,{disabled:!a.state.isFormValid,onClick:a.handleConfirmButton},"Confirm")))))))},a.PaymentMethods=function(){var e=[];return e.push(r.a.createElement("option",{key:0},"Choose...")),a.props.paymentMethods.forEach(function(t,a){e.push(r.a.createElement("option",{key:a+1},t))}),e},a.DeliveryOptions=function(){var e=[];return e.push(r.a.createElement("option",{key:0},"Choose...")),a.props.deliveryOptions.forEach(function(t,a){e.push(r.a.createElement("option",{key:a+1},t.name+" - "+t.price+" EUR"))}),e},a.state={totalPrice:0,controllers:{showTotalPrice:!1,showCreditCardExtraFields:!1},formData:{name:"",email:"",address:"",paymentMethod:"",creditCardNumber:"",creditCardExpirationDate:"",deliveryOption:{}},formValidation:{name:!1,email:!1,address:!1,paymentMethod:!1,creditCardNumber:!1,creditCardExpirationDate:!1,deliveryOption:!1},isFormValid:!1,isFieldValidated:!1,regex:{creditCardNumber:"^(?:4[0-9]{12}(?:[0-9]{3})?|[25][1-7][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35d{3})d{11})$",creditCardExpirationDate:"^(0[1-9]|1[0-2])/?([0-9]{4}|[0-9]{2})$"}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(this.CheckoutView,null)}}]),t}(n.Component),_=a(104),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleCloseModal=function(){a.props.onPurchaseComplete(),a.setState({showModal:!1})},a.handleShowModal=function(){a.setState({showModal:!0})},a.EndOfDemoModal=function(){return r.a.createElement(_.a,{show:a.state.showModal,onHide:a.handleCloseModal},r.a.createElement(_.a.Header,{closeButton:!0},r.a.createElement(_.a.Title,null,"Online shop")),r.a.createElement(_.a.Body,null,"Your purchases are completed. This is the end of demo version. You will be redirected fo main page."),r.a.createElement(_.a.Footer,null,r.a.createElement(G.a,{to:"/"},r.a.createElement(U.a,{variant:"primary",onClick:a.handleCloseModal},"Ok"))))},a.SummaryRow=function(e){return r.a.createElement(j.a,null,r.a.createElement(S.a,{className:"text-right"},r.a.createElement("h6",null,e.name)),r.a.createElement(S.a,{className:"text-left"},r.a.createElement("h6",null,e.value)))},a.state={showModal:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.checkoutData,t="Credit Card"===e.paymentMethod;return r.a.createElement(F.a,null,r.a.createElement(S.a,{xs:12,sm:5,className:"col-centered text-center"},r.a.createElement(this.SummaryRow,{name:"Name:",value:e.name}),r.a.createElement(this.SummaryRow,{name:"Email:",value:e.email}),r.a.createElement(this.SummaryRow,{name:"Address:",value:e.address}),r.a.createElement(this.SummaryRow,{name:"Payment method:",value:e.paymentMethod}),t?r.a.createElement("div",null,r.a.createElement(this.SummaryRow,{name:"Credit card number:",value:e.creditCardNumber}),r.a.createElement(this.SummaryRow,{name:"Credit card expiration date:",value:e.creditCardExpirationDate})):"",r.a.createElement(this.SummaryRow,{name:"Delivery option:",value:e.deliveryOption.name+" - "+e.deliveryOption.price}),r.a.createElement(this.SummaryRow,{name:"Price to pay:",value:this.props.cartItemsSum+" EUR"}),r.a.createElement(j.a,{className:"text-center pt-2"},r.a.createElement(S.a,null,r.a.createElement(G.a,{to:"checkout"},r.a.createElement(U.a,null,"Back"))),r.a.createElement(S.a,null,r.a.createElement(U.a,{onClick:this.handleShowModal},"Buy")))),r.a.createElement(this.EndOfDemoModal,null))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleQuantityChange=function(e,t,n){a.props.onChangeItemQuantity(e,t,n)},a.handleRemove=function(e){a.props.onRemoveCartItem(e)},a.handleCheckoutConfirm=function(e,t){a.setState(function(){return{checkoutData:e,totalPrice:t}})},a.handlePurchaseComplete=function(){a.props.onPurchaseComplete()},a.state={checkoutData:{},totalPrice:0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.a,null,r.a.createElement(D.a,{exact:!0,path:"".concat(this.props.routeUrl,"/info"),component:function(t){return r.a.createElement(X,{cartItems:e.props.cartItems,cartItemsSum:e.props.cartItemsSum,initialItems:e.props.initialData.items,routeUrl:t.match.url,onChangeItemQuantity:e.handleQuantityChange,onRemoveCartItem:e.handleRemove})}}),r.a.createElement(D.a,{eaxct:!0,path:"".concat(this.props.routeUrl,"/checkout"),component:function(t){return r.a.createElement(Z,{cartItemsSum:e.props.cartItemsSum,paymentMethods:e.props.initialData.paymentMethods,deliveryOptions:e.props.initialData.deliveryOptions,routeUrl:t.match.url,onConfirmCheckoutData:e.handleCheckoutConfirm})}}),r.a.createElement(D.a,{eaxct:!0,path:"".concat(this.props.routeUrl,"/summary"),component:function(t){return r.a.createElement(ee,{cartItemsSum:e.state.totalPrice,checkoutData:e.state.checkoutData,routeUrl:t.match.url,onPurchaseComplete:e.handlePurchaseComplete})}}))}}]),t}(n.Component),ae=function e(){Object(l.a)(this,e)};ae.recalculateTotalSum=function(e){return e.length>0?h.roundToTwoDecimalPlaces(e.map(function(e){return e.totalPrice}).reduce(function(e,t){return e+t})):0},ae.recalculateOnAdd=function(e,t,a){var n=!1;if(ae.itemNotExistsInCart(a,e)){var r=h.getItemById(t,e);if(r.quantityOnStock>0){r.quantityOnStock-=1;var i=new k(e,r.price);i.setQuantity(1),a.cartItems.push(i),a.cartItemsSum=ae.recalculateTotalSum(a.cartItems),n=!0}}return{cartData:a,isOk:n}},ae.recalculateOnRemove=function(e,t,a){var n=t.cartItems,r=h.getItemById(a,e.itemId),i=t.cartItems.map(function(e){return e.itemId}).indexOf(e.itemId),c=t.cartItems[i].quantity;return t.cartItems.splice(i,1),t.cartItemsSum=ae.recalculateTotalSum(n),r.quantityOnStock+=c,{items:a,cartData:t}},ae.recalculateAllAfterItemQuantityChange=function(e,t,a,n,r){var i=e.find(function(e){return e.id===a.itemId}),c=t.cartItems.find(function(e){return e.itemId===a.itemId});if(n>0&&c.quantity>0||n<0&&i.quantityOnStock>0){i.quantityOnStock+=n;var l=c.quantity+r;c.setQuantity(l),t.cartItemsSum=ae.recalculateTotalSum(t.cartItems)}return{items:e,cartData:t}},ae.itemNotExistsInCart=function(e,t){return void 0===e.cartItems.find(function(e){return e.itemId===t})};var ne=ae,re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleSidebarChange=function(e,t){a.setState(function(){return{receivedData:Object(w.a)({},a.state.receivedData,{activeCategory:e,activeFeatures:t}),filteredData:Object(w.a)({},a.state.filteredData,{items:N.filterByCategoryAndFeature(a.state.initialData.items,e,t)})}})},a.handleSearchChange=function(e){a.setState(function(){return{receivedData:Object(w.a)({},a.state.receivedData,{searchValue:e}),filteredData:Object(w.a)({},a.state.filteredData,{items:N.filterBySearchValue(a.state.initialData.items,e)}),controllers:Object(w.a)({},a.state.controllers,{shouldExpandViewer:!0})}})},a.handleItemClick=function(e){a.handleResetReceivedandFilteredData(),a.setState(function(){return{receivedData:Object(w.a)({},a.state.receivedData,{activeItem:e})}})},a.handleAddReview=function(e,t){var n=a.state.initialData.items.find(function(e){return e.id===t});void 0===n.reviews.find(function(t){return t.name===e.name})&&n.reviews.push(e)},a.handleAddToCart=function(e){var t=ne.recalculateOnAdd(e,a.state.initialData.items,a.state.cartData);t.isOk&&a.setState(function(){return{cartData:t.cartData}})},a.handleRemoveFromCart=function(e){var t=ne.recalculateOnRemove(e,a.state.cartData,a.state.initialData.items);a.setState(function(){return{initialData:Object(w.a)({},a.state.initialData,{items:t.items}),cartData:t.cartData}})},a.handleItemQuantityChange=function(e,t,n){var r=ne.recalculateAllAfterItemQuantityChange(a.state.initialData.items,a.state.cartData,e,t,n);a.setState(function(){return{initialData:Object(w.a)({},a.state.initialData,{items:r.items}),cartData:r.cartData}})},a.handlePurchaseComplete=function(){a.resetCart()},a.handleResetReceivedandFilteredData=function(){a.setState(function(){return{receivedData:{searchValue:"",activeCategory:a.props.data.categories[0].name,activeFeatures:[],activeItem:{}},filteredData:{items:N.filterByCategoryAndFeature(a.props.data.items,a.props.data.categories[0].name,[])},controllers:Object(w.a)({},a.state.controllers,{shouldExpandViewer:!1})}})},a.Viewer=function(){var e=a.state.controllers.shouldExpandViewer,t=a.state.controllers.viewerRows,n=a.state.controllers.viewerColumns,i=e?t+1:t,c=e?n+1:n,l=function(){return r.a.createElement(H,{viewerRows:i,viewerColumns:c,filteredItems:a.state.filteredData.items,onItemClick:a.handleItemClick,onAddToCartClick:a.handleAddToCart})};return r.a.createElement("div",null,e?r.a.createElement(l,null):r.a.createElement(j.a,null,r.a.createElement(S.a,{sm:3},r.a.createElement(T,{categories:a.props.data.categories,activeCategory:a.state.receivedData.activeCategory,onSidebarChange:a.handleSidebarChange})),r.a.createElement(S.a,{sm:9},r.a.createElement(l,null))))},a.state={initialData:{items:e.data.items,categories:e.data.categories,paymentMethods:e.data.paymentMethods,deliveryOptions:e.data.deliveryOptions},receivedData:{searchValue:"",activeCategory:"",activeFeatures:[],activeItem:{}},filteredData:{items:[]},controllers:{viewerRows:2,viewerColumns:2,shouldExpandViewer:!1},cartData:{cartItems:[],cartItemsSum:0}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.handleResetReceivedandFilteredData()}},{key:"resetCart",value:function(){this.setState(function(){return{cartData:{cartItems:[],cartItemsSum:0}}})}},{key:"render",value:function(){var e=this;return r.a.createElement(I.a,null,r.a.createElement(F.a,null,r.a.createElement(j.a,null,r.a.createElement(K,{searchValue:this.state.receivedData.searchValue,onSearchChange:this.handleSearchChange,cartItemsLength:this.state.cartData.cartItems.length,onResetReceivedandFilteredData:this.handleResetReceivedandFilteredData})),r.a.createElement(D.a,{exact:!0,path:"/(|search)",component:this.Viewer}),r.a.createElement(D.a,{path:"/cart",component:function(t){return r.a.createElement(te,{cartItems:e.state.cartData.cartItems,cartItemsSum:e.state.cartData.cartItemsSum,initialData:e.state.initialData,routeUrl:t.match.url,onChangeItemQuantity:e.handleItemQuantityChange,onRemoveCartItem:e.handleRemoveFromCart,onPurchaseComplete:e.handlePurchaseComplete})}}),r.a.createElement(D.a,{path:"/item-details/item-id-"+this.state.receivedData.activeItem.id,component:function(){return r.a.createElement($,{initialItems:e.state.initialData.items,item:e.state.receivedData.activeItem,onAddReview:e.handleAddReview,onAddToCartClick:e.handleAddToCart})}})))}}]),t}(n.Component),ie=(a(93),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).data={items:[],categories:[],paymentMethods:[],deliveryOptions:[]},e.generateData(),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"generateData",value:function(){var e=new E;e.generate(t.dataQuantity),this.data.items=e.getItems(),this.data.categories=e.getCategories(),this.data.paymentMethods=e.getPaymentMethods(),this.data.deliveryOptions=e.getDeliveryOptions()}},{key:"render",value:function(){return r.a.createElement(re,{data:this.data})}}]),t}(n.Component));ie.dataQuantity=200;var ce=ie;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[56,2,1]]]);
//# sourceMappingURL=main.165d14ab.chunk.js.map